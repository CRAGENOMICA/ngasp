# build/binaries/mainExecutable/main load -i /home/jjene/NetBeansProjects/ngaSP/docs/Fasta2MatrixPol_Task/Fasta2MatrixPol.ngasp
# build/binaries/mainExecutable/main mstatspop ï»¿-f fasta -i /home/jjene/NetBeansProjects/ngaSP/examples/input.fa -N 2 48 46

# Define the populations:

dim -n pops --as populations
with -n pops
	set -v vint_perpop_nsam --eq 48 46
	set -v force_outgroup --eq 0
	set -v outgroup_presence --eq 0
	set -v include_unknown --eq 0
end-with


# Open the Fasta file:


dim -n fasta --as dna5-string-set

calc -n c0 --as open-fasta-file
with -n c0
	set -v inputs --eq "/home/jjene/NetBeansProjects/ngaSP/examples/input.fa" pops
	set -v outputs --eq fasta
end-with

run -n c0


# Convert the Fasta into a DnaMatrix:

dim -n dnamat --as dna-matrix

calc -n c1 --as fasta-to-dna-matrix
with -n c1
	set -v inputs --eq fasta pops
	set -v outputs --eq dnamat
end-with

run -n c1

# Convert the DnaMatrix into a MatrixPol:

dim -n matpol --as char-matrix
dim -n positions --as int-vector
dim -n frequencies --as int-vector

calc -n c2 --as dna-matrix-to-matrix-pol
with -n c2
	set -v inputs --eq dnamat pops
 	set -v outputs --eq matpol positions frequencies 
end-with

run -n c2

# Calculate sxsfss:

dim -n matsites --as sites-matrix

calc -n c3 --as sxsfss
with -n c3
	set -v inputs --eq pops matpol positions
	set -v outputs --eq matsites
end-with

run -n c3

# print -n dnamat --text "dnamat"
# print -n matpol --text "matpol"
mem



