/**
 * ============================================================================
 *  \brief     linux_build.gradle
 *  \details   This file describes the ngaSP build process for LINUX
 *  \author    jjene
 *  \version   1.0
 *  \date      Apr 20, 2015
 *  \pre
 *  \bug
 *  \warning
 *  \copyright CRAG 2015.
 * ============================================================================
sudo yum install mingw32 mingw32-binutils mingw32-runtime mingw32-gcc-c++ mingw32-gcc-objc++
yum install mingw{32,64}-{gcc-c++,gtk2,libxml2,minizip,fftw,gtkglext}
*/

/*
--------------------------------------------------------------------------------
Attention:

The current working directory is this file's folder: ".gradle/"
--------------------------------------------------------------------------------
*/

model {
	toolChains {
		gcc(Gcc) {
			path "/usr/bin"
			eachPlatform() {
				cppCompiler.executable "g++"
			}
		}
  }

	components {
		ngasp(NativeExecutableSpec) {
			sources {
				cpp {
					source {
						srcDir "../source/backend"
						include "**/*.cpp"
                        include "**/*.c"
                                                exclude "**/nbproject/**"
					}
				}
			}

			binaries.all {
				if (toolChain in Gcc) {
                      cppCompiler.args "-O3",                                               /* Optimizations */
                                       "-g3",
                                       "-pedantic",
                                       "-Wall",
                                       "-ansi",
                                       "-fmessage-length=0",
                                       "-Wno-long-long",
                                       "-Wno-variadic-macros",
                                       "-std=c++1y",
                                       "-I../../../../../source/seqan/seqan_2.0.1.0",       /* SeqAn */
                                       "-DSEQAN_ENABLE_DEBUG=1",
                                       "-DSEQAN_HAS_ZLIB=1",
                                       "-DSEQAN_HAS_BZIP2=0",
                                       "-DSEQAN_HAS_EXECINFO=1",
                                       "-DSEQAN_ENABLE_TESTING=0",
                                       "-I../../../../../source/samtoolslib",               /* Samtools */
                                       /* "-I/usr/include/gsl",                                GSL */
                                       "-I/usr/local/include/gsl",                          /* GSL */
                                       "-I../../../../../source/samtoolslib/htslib-1.3.1",  /* htslib */
                                       "-DinGSL=1",
                                       ""

                      linker.args     "-L/usr/local/lib",
                                      "-lboost_iostreams",
                                      "-lboost_chrono",                                     /* time difference with boost */
                                      "-lboost_filesystem",
                                      "-lboost_regex",
                                      "/usr/local/lib/libhts.a",                                              /* HTSLib */
                                      "-lncurses",
                                      "-ltinfo",
                                      "-pthread",                                           /* CCMDSocket. <-------------- Només ho té el Linux */
                                      "-lboost_system",
                                      "-lz",                                                /* zlib */
                                      "/usr/local/lib/libgsl.a",                                              /* GSL */
                                      "/usr/local/lib/libgslcblas.a",
                                      "/develop/webapp/bin/libsamtoolslib.a",               /*Samtools compiled with Gradle */
                                      "-o",
                                      "/develop/webapp/bin/ngasp",
                                      ""
				}
			}
		}
	}
}


